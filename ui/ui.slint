import { Button } from "std-widgets.slint";

import { homeView } from "home.slint";
import { settingsView } from "settings.slint";
import { gameView } from "game.slint";

import { ViewState, slint_GameSettings } from "types.slint";

export component AppWindow inherits Window {
    // Setup
    title: "Hangman";

    preferred-width: 100%;
    preferred-height: 100%;

    min-width: 800px;
    min-height: 600px;

    // Views
    in property<ViewState> current_view;

    // Callbacks for homeView
    callback start_clicked();
    callback settings_clicked();
    callback quit_clicked();

    if (current_view == ViewState.Home ) : homeView { 
        start_clicked => root.start_clicked();
        settings_clicked() => root.settings_clicked();
        quit_clicked => root.quit_clicked();
    }
   
    // Callbacks for gameView


    if (current_view == ViewState.Game ): gameView { }

    // Callbacks for settingsView
    callback save_clicked();
    callback cancel_clicked();

    in-out property <slint_GameSettings> settings;
   
    if (current_view == ViewState.Settings ) : settingsView {
        save_clicked => root.save_clicked();
        cancel_clicked => root.cancel_clicked();
        
        settings <=> root.settings;
    }
}