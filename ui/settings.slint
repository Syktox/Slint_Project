import { VerticalBox, HorizontalBox, Slider, CheckBox, Button, TextEdit } from "std-widgets.slint";

export component settingsView {
    width: 70%;
    height: 75%;

    callback save_clicked();
    callback cancel_clicked();

    // Configurable properties (read/write from C++)
    in-out property<float> music_volume: 50;
    in-out property<float> min_word_length: 4;
    in-out property<float> max_word_length: 10;
    in-out property<float> max_attempts: 6;
    in-out property<bool> sound_effects_enabled: true;

    VerticalBox {
        padding: 20px;
        spacing: 20px;

        Text { text: "Music Volume"; font-size: parent.width / 30; }
        HorizontalBox {
            Slider {
                minimum: 0;
                maximum: 100;
                value <=> music_volume;
            }
            Text {
                text: music_volume;
                horizontal-alignment: right;
                font-size: parent.width / 50;
                width: 60px;
            }
        }

        Text { text: "Minimum Word Length"; font-size: parent.width / 30; }
        HorizontalBox {
            Slider {
                minimum: 3;
                maximum: 15;
                value <=> min_word_length;
            }
            Text {
                text: min_word_length;
                horizontal-alignment: right;
                font-size: parent.width / 50;
                width: 60px;
            }
        }

        Text { text: "Maximum Word Length"; font-size: parent.width / 30; }
        HorizontalBox {
            Slider {
                minimum: 3;
                maximum: 15;
                value <=> max_word_length;
            }
            Text {
                text: max_word_length;
                horizontal-alignment: right;
                font-size: parent.width / 50;
                width: 60px;
            }
        }

        Text { text: "Maximum Attempts"; font-size: parent.width / 30; }
        HorizontalBox {
            Slider {
                minimum: 4;
                maximum: 12;
                value <=> max_attempts;
            }
            Text {
                text: max_attempts;
                horizontal-alignment: right;
                font-size: parent.width / 50;
                width: 60px;
            }
        }

        HorizontalLayout {
            spacing: 10px;
            alignment: start;
            
            CheckBox {
                // Wir lassen 'text' leer, um volle Kontrolle über das Label zu haben
                checked <=> sound_effects_enabled;
                
                min-width: parent.width / 25; 
                min-height: parent.width / 25;
            }

            Text {
                text: "Enable Sound Effects";
                font-size: parent.width / 50; // Gleiche Größe wie deine anderen Labels
                vertical-alignment: center;
            }
        }

        HorizontalBox {
            spacing: 50px;
            Button {
                text: "Save";
                clicked => root.save_clicked();  
            }

            Button {
                text: "Close";
                clicked => root.cancel_clicked();
            }
        }
    }
}
